(function(){"use strict";var a={1314:function(a,e,t){var i=t(9242),l=t(3396);const s={id:"app"},o={id:"nav"},r=(0,l._)("div",{style:{padding:"35px"}},null,-1);function n(a,e,t,i,n,c){const d=(0,l.up)("Navigation"),u=(0,l.up)("router-view"),p=(0,l.up)("Footer");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",o,[(0,l.Wm)(d)]),(0,l.Wm)(u),r,(0,l.Wm)(p)])}var c=t(7139),d=t.p+"img/ScallCucei.8803c57b.png",u=t.p+"img/udg.6edc0780.jpg";const p={class:"navbar",role:"navigation","aria-label":"main navigation"},m={class:"navbar-brand"},h=(0,l._)("img",{src:d,class:"logo"},null,-1),v=(0,l._)("span",{"aria-hidden":"true"},null,-1),g=(0,l._)("span",{"aria-hidden":"true"},null,-1),f=(0,l._)("span",{"aria-hidden":"true"},null,-1),_=[v,g,f],b={class:"navbar-end"},y={class:"navbar-item"},w={key:0,class:"navbar-item has-dropdown is-hoverable"},D={class:"navbar-link"},C={class:"navbar-dropdown"},k=(0,l._)("i",{class:"fa fa-tint"},null,-1),x=(0,l._)("span",{class:"espacio-izq"},"Precipitación anual",-1),M=(0,l._)("a",{class:"navbar-item",href:"https://pronostico.vercel.app/"},[(0,l._)("i",{class:"fa fa-cloud"}),(0,l._)("span",{class:"espacio-izq"},"Pronóstico del clima")],-1),q=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),T=(0,l._)("span",{class:"espacio-izq"},"Info del SCALL",-1),A=(0,l._)("i",{class:"fa fa-exclamation"},null,-1),U=(0,l._)("span",{class:"espacio-izq"},"Excendete de agua",-1),E=(0,l._)("i",{class:"fa fa-user-circle"},null,-1),z=(0,l._)("span",{class:"espacio-izq"},"Actualizar perfil",-1),L=(0,l._)("i",{class:"fa fa-window-close"},null,-1),I=(0,l._)("span",{class:"espacio-izq underline-on-hover"},"Cerrar sesión",-1),S=[L,I],V={key:1,class:"buttons"},N=(0,l._)("strong",null,"Registrarme",-1),O=(0,l._)("img",{src:u,class:"logo"},null,-1);function Z(a,e,t,s,o,r){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",p,[(0,l._)("div",m,[(0,l.Wm)(n,{to:"/"},{default:(0,l.w5)((()=>[h])),_:1}),(0,l._)("a",{role:"button",class:(0,c.C_)(["navbar-burger",{"is-active":o.isOpen}]),onClick:e[0]||(e[0]=(0,i.iM)(((...a)=>r.toggleMenu&&r.toggleMenu(...a)),["prevent"])),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},_,2)]),(0,l._)("div",{id:"navbarBasicExample",class:(0,c.C_)(["navbar-menu",{"is-active":o.isOpen}])},[(0,l._)("div",b,[(0,l._)("div",y,[o.user?((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("a",D,(0,c.zw)(o.user.displayName||o.user.email),1),(0,l._)("div",C,[(0,l.Wm)(n,{class:"navbar-item",to:"/dashboard"},{default:(0,l.w5)((()=>[k,x])),_:1}),M,(0,l.Wm)(n,{class:"navbar-item",to:"/SCALL"},{default:(0,l.w5)((()=>[q,T])),_:1}),(0,l.Wm)(n,{class:"navbar-item",to:"/Excedente"},{default:(0,l.w5)((()=>[A,U])),_:1}),(0,l.Wm)(n,{class:"navbar-item",to:"/update"},{default:(0,l.w5)((()=>[E,z])),_:1}),(0,l._)("a",{class:"navbar-item",onClick:e[1]||(e[1]=(0,i.iM)(((...a)=>r.logout&&r.logout(...a)),["prevent"]))},S)])])):((0,l.wg)(),(0,l.iD)("div",V,[(0,l.Wm)(n,{class:"button is-primary",to:"/register"},{default:(0,l.w5)((()=>[N])),_:1}),(0,l.Wm)(n,{class:"button is-light",to:"/login"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Iniciar sesión ")])),_:1})]))])])],2),O])}t(7658);var P=t(1509),X=(t(5363),t(8981),{data(){return{isOpen:!1,user:null}},methods:{toggleMenu(){const a=!this.isOpen;this.isOpen=a},logout(){P.Z.auth().signOut().then((()=>{this.$router.push({name:"login"})}))}},created(){P.Z.auth().onAuthStateChanged((a=>{this.user=a||null}))}}),j=t(89);const W=(0,j.Z)(X,[["render",Z]]);var B=W;const G=(0,l._)("p",null,"SCALL - Todos los derechos reservados © 2025",-1),F=[G];function H(a,e,t,i,s,o){return(0,l.wg)(),(0,l.iD)("footer",null,F)}var $={};const R=(0,j.Z)($,[["render",H]]);var Y=R,J={components:{Navigation:B,Footer:Y}};const K=(0,j.Z)(J,[["render",n]]);var Q=K,aa=t(2483),ea=t.p+"img/SCALL1.91ad0641.png",ta=t.p+"img/SCALL2.f29dc050.png",ia=t.p+"img/mx.c4555492.png";const la={class:"container"},sa=(0,l.uE)('<div class="home"><header><h1>SISTEMA DE CAPTACIÓN DE AGUA DE LLUVIA</h1></header><section><h2>¿Qué es un SCALL?</h2><p> Un <b>Sistema de Captación de Agua de Lluvia</b> (SCALL) consiste en un arreglo que permite interceptar, recolectar y almacenar agua de lluvia. Un SCALL típico implementado a nivel domiciliar consta de las siguientes secciones: recolección o captación, conducción, separador para las primeras lluvias, almacenamiento y tratamiento. </p><img src="'+ea+'" alt="SCALL" width="600px"></section><section><h2>¿Por qué captar agua de lluvia?</h2><p> Factores como el impacto del cambio climático sobre el ciclo hidrológico, el crecimiento poblacional y el estrés hídrico (cuando la demanda de agua es mayor a la cantidad de recursos hídricos disponibles) han evidenciado la necesidad de contar con diversas alternativas para asegurar el acceso al agua para toda la población. Un elemento indispensable para enfrentar los retos en torno al agua es el uso sostenible de los recursos hídricos, lo cual incluye el manejo integral del agua de lluvia. </p><img src="'+ta+'" alt="Pasos"></section><section><h2>Aspectos importantes a considerar</h2><p>Los aspectos más relevantes para habilitar un SCALL son:</p><ul><li><i class="fa fa-arrow-right"></i>   <b>Precipitación pluvial promedio anual del lugar:</b> Valor obtenido mediante el promedio de lluvias registradas en un año. <i><b>Un milímetro de lluvia equivale a un litro/m²</b>. Este dato es el que proporcionamos en esta página específicamente de la región Mexicana.</i></li><li><img src="'+ia+'" alt="Bandera de México" width="200px"></li><li><i class="fa fa-arrow-right"></i>   <b>Intensidad de la precipitación:</b> Es igual a la precipitación sobre tiempo, suele expresarse en mm/hr. Distribución temporal de la precipitación: Las localidades con precipitación pluvial distribuida en un mayor número de meses del año, favorece a los SCALL, por ejemplo, en las zonas subhúmedas y húmedas. </li><li><i class="fa fa-arrow-right"></i>   <b>Superficies de techumbres o áreas de captación de agua de lluvia:</b> Entre más grandes sea la superficie, mayor cantidad de agua podrá ser captada. </li><li><i class="fa fa-arrow-right"></i>   <b>Material del área de captación:</b> El coeficiente de escurrimiento es la relación entre el volumen escurrido y el llovido. Existen coeficientes de escurrimiento para diversos tipos de techos o áreas de captación. </li><li><i class="fa fa-arrow-right"></i>   <b>Distancia entre el área de captación y lugar de almacenamiento:</b> La zona de almacenamiento debe estar, preferentemente, en un punto más bajo para que el transporte del agua sea por gravedad. El costo es mayor a medida que aumente la distancia al lugar de almacenamiento. </li><li><i class="fa fa-arrow-right"></i>   <b>Tipo de material donde se ubicará el almacenamiento:</b> Repercute directamente en el costo de la excavación y construcción del almacenamiento. </li></ul></section><section><h2>Aplicación móvil</h2><p> Descarga nuestra aplicación móvil, para que puedas monitorear de forma precisa el pronóstico del clima en donde quiera que te encuentres, y puedas gestionar de mejor manera tu SCALL. </p><form class="f"><a href="https://play.google.com/store/apps/details?id=com.szaldivar.axel.scall" target="_blank" class="btn button is-primary"><strong><i class="fa fa-mobile espacio-der"></i> App </strong></a></form></section></div>',1),oa=[sa];function ra(a,e,t,i,s,o){return(0,l.wg)(),(0,l.iD)("div",la,oa)}var na={name:"HomeView"};const ca=(0,j.Z)(na,[["render",ra]]);var da=ca;const ua={class:"container"},pa={class:"columns"},ma={class:"column is-6 is-offset-3"},ha=(0,l._)("h3",{class:"title is-3"},"Iniciar sesión",-1),va=(0,l._)("hr",null,null,-1),ga={class:"field"},fa=(0,l._)("label",{class:"label"},"Email",-1),_a={class:"control"},ba={class:"field"},ya=(0,l._)("label",{class:"label"},"Contraseña",-1),wa={class:"control"},Da=(0,l._)("br",null,null,-1),Ca=(0,l._)("button",{type:"submit",class:"button is-primary"}," Iniciar sesión ",-1),ka={key:0,class:"error"},xa=(0,l._)("hr",null,null,-1),Ma={class:"notification is-danger"};function qa(a,e,t,s,o,r){return(0,l.wg)(),(0,l.iD)("div",ua,[(0,l._)("div",pa,[(0,l._)("div",ma,[ha,va,(0,l._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,i.iM)(((...a)=>r.login&&r.login(...a)),["prevent"]))},[(0,l._)("div",ga,[fa,(0,l._)("div",_a,[(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"e.g. alexsmith@gmail.com","onUpdate:modelValue":e[0]||(e[0]=a=>o.email=a)},null,512),[[i.nr,o.email]])])]),(0,l._)("div",ba,[ya,(0,l._)("div",wa,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),Da,Ca],32),o.error?((0,l.wg)(),(0,l.iD)("div",ka,[xa,(0,l._)("div",Ma,(0,c.zw)(o.error),1)])):(0,l.kq)("",!0)])])])}const Ta={apiKey:"AIzaSyC7ZVTYA9Z3WC8kmWHIkEkv48LuDXA4LFU",authDomain:"scall-a4924.firebaseapp.com",projectId:"scall-a4924",storageBucket:"scall-a4924.appspot.com",messagingSenderId:"639961564249",appId:"1:639961564249:web:a12be1ad34dbdf4ddd5d48",measurementId:"G-3K7HM2M3D0"},Aa=P.Z.initializeApp(Ta);Aa.firestore().settings({timestampsInSnapshots:!0});var Ua=Aa.firestore(),Ea={data(){return{email:"",password:"",error:""}},name:"Login",methods:{login(){this.error="",this.email&&this.password?P.Z.auth().signInWithEmailAndPassword(this.email,this.password).then((a=>{this.$router.push({name:"dashboard"})})).catch((a=>{this.error=a.message})):this.error="Todos los campos son requeridos"}}};const za=(0,j.Z)(Ea,[["render",qa]]);var La=za;const Ia={class:"container"},Sa={class:"columns"},Va={class:"column is-6 is-offset-3"},Na=(0,l._)("h3",{class:"title is-3"},"Crear una cuenta",-1),Oa=(0,l._)("hr",null,null,-1),Za={class:"field"},Pa=(0,l._)("label",{class:"label"},"Nombre",-1),Xa={class:"control"},ja={class:"field"},Wa=(0,l._)("label",{class:"label"},"Email",-1),Ba={class:"control"},Ga={class:"field"},Fa=(0,l._)("label",{class:"label"},"Contraseña",-1),Ha={class:"control"},$a=(0,l._)("br",null,null,-1),Ra=(0,l._)("button",{type:"submit",class:"button is-primary"}," Registrarme ",-1),Ya={key:0,class:"error"},Ja=(0,l._)("hr",null,null,-1),Ka={class:"notification is-danger"};function Qa(a,e,t,s,o,r){return(0,l.wg)(),(0,l.iD)("div",Ia,[(0,l._)("div",Sa,[(0,l._)("div",Va,[Na,Oa,(0,l._)("form",{action:"#",onSubmit:e[3]||(e[3]=(0,i.iM)(((...a)=>r.register&&r.register(...a)),["prevent"]))},[(0,l._)("div",Za,[Pa,(0,l._)("div",Xa,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a)},null,512),[[i.nr,o.name]])])]),(0,l._)("div",ja,[Wa,(0,l._)("div",Ba,[(0,l.wy)((0,l._)("input",{class:"input",type:"email",placeholder:"e.g. alexsmith@gmail.com","onUpdate:modelValue":e[1]||(e[1]=a=>o.email=a)},null,512),[[i.nr,o.email]])])]),(0,l._)("div",Ga,[Fa,(0,l._)("div",Ha,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),$a,Ra],32),o.error?((0,l.wg)(),(0,l.iD)("div",Ya,[Ja,(0,l._)("div",Ka,(0,c.zw)(o.error),1)])):(0,l.kq)("",!0)])])])}var ae=t(1609);const ee=Ua.collection("Usuarios"),te=Ua.collection("Excedente");var ie={data(){return{name:"",email:"",password:"",error:""}},name:"Register",mounted(){P.Z.auth().signOut()},methods:{register(){this.error="",this.name&&this.email&&this.password?P.Z.auth().createUserWithEmailAndPassword(this.email,this.password).then((a=>{a&&(this.actualizarUsuario(),this.crearDocumentoUsuario(a.user.uid))})).catch((a=>{this.error=a.message})):this.error="Todos los campos son requeridos"},actualizarUsuario(){const a=(0,ae.v0)();(0,ae.ck)(a.currentUser,{displayName:this.name}).then((a=>{this.name="",this.email="",this.password=""})).catch((a=>{this.error=a.message}))},crearDocumentoUsuario(a){ee.doc(a).set({pluviometro:"0",captar:"0",tanque:"0",nivel:"-1",limpio:"-1",mm:"-1"}).then((()=>{this.crearDocumentoExcedente(a)})).catch((a=>{this.error=a.message+"Error al crear el documento."}))},crearDocumentoExcedente(a){te.doc(a).set({"Bañarse":"100"}).then((()=>{console.log("RegEx"),this.$router.push({name:"dashboard"})})).catch((a=>{this.error=a.message+"Error al crear el documento."}))}}};const le=(0,j.Z)(ie,[["render",Qa]]);var se=le;const oe={id:"app"},re={class:"container"},ne={class:"home"},ce=(0,l._)("header",null,[(0,l._)("h1",null,"Precipitación a nivel nacional")],-1),de=(0,l._)("div",{class:"card"},[(0,l._)("div",{class:"p-2"},[(0,l._)("h3",null,"Datos extraídos de la Comisión Nacional del Agua 2022"),(0,l._)("i",{class:"fa fa-arrow-right"}),(0,l._)("span",null,[(0,l._)("a",{href:"https://smn.conagua.gob.mx/tools/DATA/Climatolog%C3%ADa/Pron%C3%B3stico%20clim%C3%A1tico/Temperatura%20y%20Lluvia/PREC/2022.pdf",target:"_blank"},"Visitar el sitio oficial")])])],-1);function ue(a,e,t,i,s,o){const r=(0,l.up)("BarChart");return(0,l.wg)(),(0,l.iD)("div",oe,[(0,l._)("div",re,[(0,l._)("div",ne,[ce,(0,l.Wm)(r),de])])])}function pe(a,e,t,i,s,o){const r=(0,l.up)("Bar");return(0,l.wg)(),(0,l.j4)(r,{id:"BarChart",options:a.chartOptions,data:s.chartData},null,8,["options","data"])}var me=t(5866),he=t(9646);t(9232);he.kL.register(he.wL),he.kL.register(he.Dx,he.u,he.De,he.ZL,he.uw,he.f$);var ve={name:"BarChart",components:{Bar:me.$Q},data(){return{years:[],query:null,find:!0,count:0,chartData:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Mílimetros de precipitación",data:[],borderWidth:2,borderRadius:10}]}}},mounted(){this.cargarDatos()},methods:{async getData(){const a=await Ua.collection("Lluvia").get(),e=a.docs.map((a=>({value1:a.data().Enero,value2:a.data().Febrero,value3:a.data().Marzo,value4:a.data().Abril,value5:a.data().Mayo,value6:a.data().Junio,value7:a.data().Julio,value8:a.data().Agosto,value9:a.data().Septiembre,value10:a.data().Octubre,value11:a.data().Noviembre,value12:a.data().Diciembre})));return e},cargarDatos(){this.getData().then((a=>{this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value1))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value2))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value3))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value4))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value5))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value6))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value7))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value8))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value9))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value10))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value11))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value12)));const e=document.getElementById("BarChart"),t=he.kL.getChart(e),i=e.getContext("2d");t&&t.destroy();new he.kL(i,{type:"bar",data:this.chartData,options:{animation:{onComplete:()=>{},delay:a=>{let e=0;return"data"===a.type&&"default"===a.mode&&(e=300*a.dataIndex+100*a.datasetIndex),e}},elements:{bar:{backgroundColor:this.colorize(),borderColor:"#000000"}},plugins:{legend:!1,title:{display:!0,text:"Milímetros de precipitación"}}}})}))},colorize(){return a=>{const e=a.parsed.y,t=e<20?"#D60000":e<80?"#F46300":e<140?"#FFFF00":"#44DE28";return t}}}};const ge=(0,j.Z)(ve,[["render",pe]]);var fe=ge,_e={name:"Dashboard",components:{BarChart:fe}};const be=(0,j.Z)(_e,[["render",ue]]);var ye=be;const we={class:"container"},De={class:"columns"},Ce={class:"column is-6 is-offset-3"},ke=(0,l._)("h3",{class:"title is-3"},"Actualiza tu cuenta",-1),xe=(0,l._)("hr",null,null,-1),Me={class:"field"},qe=(0,l._)("label",{class:"label"},"ID (dato necesario para configurar el microcontrolador del SCALL)",-1),Te={class:"control"},Ae={class:"field"},Ue=(0,l._)("label",{class:"label"},"Nombre",-1),Ee={class:"control"},ze={class:"field"},Le=(0,l._)("label",{class:"label"},"Correo",-1),Ie={class:"control"},Se={class:"field"},Ve=(0,l._)("label",{class:"label"},"Contraseña",-1),Ne={class:"control"},Oe=(0,l._)("br",null,null,-1),Ze=["disabled"],Pe={key:0,class:"error"},Xe=(0,l._)("hr",null,null,-1),je={class:"notification is-danger"},We={key:1,class:"alert"},Be=(0,l._)("hr",null,null,-1),Ge=(0,l._)("div",{class:"alert alert-primary alert-dismissible fade show"}," ¡Actualización registrada con éxito! ",-1),Fe=[Be,Ge];function He(a,e,t,s,o,r){return(0,l.wg)(),(0,l.iD)("div",we,[(0,l._)("div",De,[(0,l._)("div",Ce,[ke,xe,(0,l._)("form",{action:"#",onSubmit:e[4]||(e[4]=(0,i.iM)(((...a)=>r.update&&r.update(...a)),["prevent"]))},[(0,l._)("div",Me,[qe,(0,l._)("div",Te,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[0]||(e[0]=a=>o.id=a),readonly:""},null,512),[[i.nr,o.id]])])]),(0,l._)("div",Ae,[Ue,(0,l._)("div",Ee,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[1]||(e[1]=a=>o.name=a)},null,512),[[i.nr,o.name]])])]),(0,l._)("div",ze,[Le,(0,l._)("div",Ie,[(0,l.wy)((0,l._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[2]||(e[2]=a=>o.email=a),readonly:""},null,512),[[i.nr,o.email]])])]),(0,l._)("div",Se,[Ve,(0,l._)("div",Ne,[(0,l.wy)((0,l._)("input",{class:"input",type:"password","onUpdate:modelValue":e[3]||(e[3]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),Oe,(0,l._)("button",{type:"submit",class:"button is-primary",disabled:!r.formIsValid}," Actualizar ",8,Ze)],32),o.error?((0,l.wg)(),(0,l.iD)("div",Pe,[Xe,(0,l._)("div",je,(0,c.zw)(o.error),1)])):(0,l.kq)("",!0),o.good?((0,l.wg)(),(0,l.iD)("div",We,Fe)):(0,l.kq)("",!0)])])])}var $e={data(){return{id:"",name:"",email:"",password:"",error:"",good:!1}},name:"Update",mounted(){this.identificarUsuario()},methods:{identificarUsuario(){const a=P.Z.auth().currentUser;a?(this.id=a.uid,this.name=a.displayName,this.email=a.email):this.$router.push({name:"dashboard"})},update(){if(this.name&&this.password){const a=P.Z.auth().currentUser;a?a.updateProfile({displayName:this.name}).then((()=>a.updatePassword(this.password))).then((()=>{this.name="",this.password="",this.email="",this.good=!0,setTimeout((()=>{window.location.reload()}),1e3)})).catch((a=>{this.error=a.message})):this.error="No hay usuario autenticado."}else this.error="Todos los campos son requeridos"}},computed:{formIsValid(){return!!this.name||!!this.password}}};const Re=(0,j.Z)($e,[["render",He]]);var Ye=Re,Je=t.p+"img/Capacidad.253410ae.png",Ke=t.p+"img/techo.5620c253.jpg",Qe=t.p+"img/pl.76895e9d.jpg";const at={id:"app"},et={class:"container"},tt={class:"home"},it={class:"card"},lt=(0,l._)("h2",null,"Datos configurables por el usuario",-1),st={class:"f",enctype:"multipart/form-data"},ot={class:"cardi"},rt={class:"horizontal"},nt=(0,l._)("img",{src:Je,class:"search"},null,-1),ct=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),dt=[ct],ut={class:"col-xs-6 mr-auto mt-auto mb-auto"},pt=(0,l._)("b",null,"centímetros",-1),mt={class:"cardi"},ht={class:"horizontal"},vt=(0,l._)("img",{src:Je,class:"search"},null,-1),gt=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),ft=[gt],_t={class:"col-xs-6 mr-auto mt-auto mb-auto"},bt=(0,l._)("b",null,"centímetros",-1),yt={class:"cardi"},wt={class:"horizontal"},Dt=(0,l._)("img",{src:Ke,class:"search"},null,-1),Ct=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),kt=[Ct],xt={class:"col-xs-6 mr-auto mt-auto mb-auto"},Mt=(0,l._)("b",null,[(0,l.Uk)("m"),(0,l._)("sup",null,"2")],-1),qt={class:"cardi"},Tt={class:"horizontal"},At=(0,l._)("img",{src:Qe,class:"search"},null,-1),Ut=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),Et=[Ut],zt={class:"col-xs-6 mr-auto mt-auto mb-auto"},Lt=(0,l._)("b",null,"mililitros",-1),It=["disabled"],St=(0,l._)("strong",null,[(0,l._)("i",{class:"fa fa-upload espacio-der"}),(0,l.Uk)(" Cargar datos al servidor ")],-1),Vt=[St],Nt={key:0,class:"error"},Ot=(0,l._)("hr",null,null,-1),Zt={class:"notification is-danger"};function Pt(a,e,t,s,o,r){const n=(0,l.up)("sensores"),d=(0,l.up)("dialog-component");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",at,[(0,l._)("div",et,[(0,l._)("div",tt,[(0,l._)("header",null,[(0,l._)("h1",null,(0,c.zw)(this.user),1)]),(0,l.Wm)(n,{altura:o.altura,diametro:o.diametro/2,nivel:o.nivel,limpio:o.limpio,mm:o.mm,pluviometro:o.pluviometro,ph:o.ph,captar:o.captar,llueve:o.llueve,fecha:o.ultimo_cambio,modificacion:o.cambio,onClose:r.openModal},null,8,["altura","diametro","nivel","limpio","mm","pluviometro","ph","captar","llueve","fecha","modificacion","onClose"]),(0,l._)("div",it,[lt,(0,l._)("form",st,[(0,l._)("div",ot,[(0,l._)("div",rt,[(0,l._)("div",null,[nt,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[0]||(e[0]=a=>r.openModal(6))},dt)]),(0,l._)("div",ut,[(0,l.Uk)(" Ingrese la altura de su tanque en "),pt,(0,l.Uk)(". "),(0,l.wy)((0,l._)("input",{class:"form-control",placeholder:"Capacidad del tanque (lts)","onUpdate:modelValue":e[1]||(e[1]=a=>o.altura=a),type:"text"},null,512),[[i.nr,o.altura]])])])]),(0,l._)("div",mt,[(0,l._)("div",ht,[(0,l._)("div",null,[vt,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[2]||(e[2]=a=>r.openModal(7))},ft)]),(0,l._)("div",_t,[(0,l.Uk)(" Ingrese el largo del tanque (diámetro) en "),bt,(0,l.Uk)(". "),(0,l.wy)((0,l._)("input",{class:"form-control",placeholder:"Capacidad del tanque (lts)","onUpdate:modelValue":e[3]||(e[3]=a=>o.diametro=a),type:"text"},null,512),[[i.nr,o.diametro]])])])]),(0,l._)("div",yt,[(0,l._)("div",wt,[(0,l._)("div",null,[Dt,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[4]||(e[4]=a=>r.openModal(8))},kt)]),(0,l._)("div",xt,[(0,l.Uk)(" Ingrese la capacidad del techo que podrá captar agua en "),Mt,(0,l.Uk)(". "),(0,l.wy)((0,l._)("input",{class:"form-control",placeholder:"Capacidad del techo (m2)","onUpdate:modelValue":e[5]||(e[5]=a=>o.captar=a),type:"text"},null,512),[[i.nr,o.captar]])])])]),(0,l._)("div",qt,[(0,l._)("div",Tt,[(0,l._)("div",null,[At,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[6]||(e[6]=a=>r.openModal(9))},Et)]),(0,l._)("div",zt,[(0,l.Uk)(" Ingrese la capacidad del pluviómetro en "),Lt,(0,l.Uk)(". "),(0,l.wy)((0,l._)("input",{class:"form-control",placeholder:"Capacidad del p. (mm)","onUpdate:modelValue":e[7]||(e[7]=a=>o.pluviometro=a),type:"text"},null,512),[[i.nr,o.pluviometro]])])])]),(0,l._)("button",{class:"btn button is-primary",type:"submit",onClick:e[8]||(e[8]=(...a)=>r.actualizar&&r.actualizar(...a)),disabled:a.tanque<1||o.captar<.1||o.pluviometro<1},Vt,8,It)])]),o.error?((0,l.wg)(),(0,l.iD)("div",Nt,[Ot,(0,l._)("div",Zt,(0,c.zw)(o.error),1)])):(0,l.kq)("",!0)])])]),(0,l.Wm)(d,{show:o.showModal,opc:o.opcion,onClose:r.closeModal},null,8,["show","opc","onClose"])],64)}const Xt={key:0,class:"modal-overlay"},jt={key:0,class:"home mooodal"},Wt={class:"f"};function Bt(a,e,t,s,o,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i.uT,{name:"fade"},{default:(0,l.w5)((()=>[t.show?((0,l.wg)(),(0,l.iD)("div",Xt)):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(i.uT,{name:"fade"},{default:(0,l.w5)((()=>[t.show?((0,l.wg)(),(0,l.iD)("div",jt,[(0,l._)("header",null,[(0,l._)("h1",null,(0,c.zw)(o.titles[t.opc]),1)]),(0,l._)("span",null,(0,c.zw)(o.descriptions[t.opc]),1),(0,l._)("form",Wt,[(0,l._)("button",{class:"btn button is-primary",onClick:e[0]||(e[0]=(...a)=>r.closeModal&&r.closeModal(...a))}," Aceptar ")])])):(0,l.kq)("",!0)])),_:1})],64)}var Gt={props:{show:Boolean,opc:Number},data(){return{titles:["Nivel del tanque","Calidad del agua","Calidad del agua","Milímetros captados","Estado de la lluvia","Última actualización","Altura del tanque","Diámetro del tanque","Captación","Pluviómetro","Error","Carga exitosa","¡Importante!"],descriptions:["En este apartado podrás conocer la cantidad de litros que se encuentran almacenados actualmente en tu depósito.","En este apartado se muentra la calidad del agua en base a las partículas por millón disueltas en el agua. Entre más PPM haya en el depósito, menor será la calidad del agua.","En este apartado se muentra la calidad del agua en base al nivel de PH. Un agua demasiada alcalina o demasiada ácida no es apta para su uso.","En este apartado se muestran los milímetros reales de agua que pudiste captar en la última lluvia. Este dato se recopila directamente del pluviómetro de tu SCALL.","En este apartado podrás conocer si en el domicilio donde se encuentra instalado el SCALL está lloviendo en este momento.","En este apartado se indica la fecha y la hora de la última vez que el microcontrolador envió datos al servidor.","Ingresa en este apartado, en centímetros, la altura del depósito. Este dato servirá para obtener el volúmen correspondiente con el nivel de agua que tu depósito tiene.","Ingresa en este apartado, en centímetros, el largo también conocido como el diámetro del depósito. Este dato servirá para obtener el volúmen correspondiente con el nivel de agua que tu depósito tiene.","Ingresa en este apartado, en metros cuadrados, el área del techo con el que puedes captar agua. Con este dato y con los mm de precipitación estimados en el pronóstico del clima, se podrá obtener el cálculo del agua que podrás captar en la próxima lluvia, el cual, podrás visualizar en tu aplicación móvil. También con este dato y los del pluviómetro, podrás conocer cuanta agua captaste en la última lluvia.","El pluviómetro es el encargado de cuantificar los milímetros de precipitación que caen en una lluvia. En este apartado debes ingresar su capacidad para poder calcular este dato, así como el de cuanta agua pudiste captar en la última lluvia.","Se produjo un error al cargar o recuperar información de la base de datos","Información actualizada con éxito!","No olvides cargar los datos al servidor cuando termines de organizar las tareas que puedes hacer con el agua excedente. Esto se hace con el botón que se encuentra el fondo de la página."]}},methods:{closeModal(){this.$emit("close")}}};const Ft=(0,j.Z)(Gt,[["render",Bt]]);var Ht=Ft,$t=t.p+"img/VACIO.d7cb209b.png",Rt=t.p+"img/CASI_VACIO.58a0a7ab.png",Yt=t.p+"img/MITAD.340c0a28.png",Jt=t.p+"img/CASI_LLENO.e1ae7f57.png",Kt=t.p+"img/LLENO.daa6f712.png",Qt=t.p+"img/VACIO_SUCIO.ac8c2839.png",ai=t.p+"img/lluvia.764abe8a.jpg";const ei={class:"card"},ti=(0,l._)("h2",null,"Datos leídos por la red de sensores",-1),ii={class:"f"},li={class:"cardi"},si={class:"horizontal"},oi={key:0,src:$t,class:"search"},ri={key:1,src:Rt,class:"search"},ni={key:2,src:Yt,class:"search"},ci={key:3,src:Jt,class:"search"},di={key:4,src:Kt,class:"search"},ui={key:5,src:Qt,class:"search"},pi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),mi=[pi],hi={class:"col-xs-6 mr-auto mt-auto mb-auto"},vi={class:"cardi"},gi={class:"horizontal"},fi={key:0,src:Kt,class:"search"},_i={key:1,src:Qt,class:"search"},bi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),yi=[bi],wi={class:"col-xs-6 mr-auto mt-auto mb-auto"},Di={class:"cardi"},Ci={class:"horizontal"},ki={key:0,src:Kt,class:"search"},xi={key:1,src:Qt,class:"search"},Mi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),qi=[Mi],Ti={class:"col-xs-6 mr-auto mt-auto mb-auto"},Ai={class:"cardi"},Ui={class:"horizontal"},Ei=(0,l._)("img",{src:ai,class:"search"},null,-1),zi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),Li=[zi],Ii={class:"col-xs-6 mr-auto mt-auto mb-auto"},Si={class:"cardi"},Vi={class:"horizontal"},Ni=(0,l._)("img",{src:ai,class:"search"},null,-1),Oi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),Zi=[Oi],Pi={class:"col-xs-6 mr-auto mt-auto mb-auto"},Xi={class:"cardi"},ji={class:"horizontal"},Wi=(0,l._)("img",{src:ai,class:"search"},null,-1),Bi=(0,l._)("i",{class:"fa fa-info-circle"},null,-1),Gi=[Bi],Fi={class:"col-xs-6 mr-auto mt-auto mb-auto"};function Hi(a,e,t,s,o,r){return(0,l.wg)(),(0,l.iD)("div",ei,[ti,(0,l._)("div",ii,[(0,l._)("div",li,[(0,l._)("div",si,[(0,l._)("div",null,[0==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",oi)):(0,l.kq)("",!0),1==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",ri)):(0,l.kq)("",!0),2==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",ni)):(0,l.kq)("",!0),3==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",ci)):(0,l.kq)("",!0),4==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",di)):(0,l.kq)("",!0),5==o.nivelIMG?((0,l.wg)(),(0,l.iD)("img",ui)):(0,l.kq)("",!0),(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[0]||(e[0]=a=>r.openModal(0))},mi)]),(0,l._)("div",hi,[(0,l.Uk)(" Nivel actual del tanque. "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>o.nivelTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.nivelTXT]])])])]),(0,l._)("div",vi,[(0,l._)("div",gi,[(0,l._)("div",null,[t.limpio<200&&t.limpio>0?((0,l.wg)(),(0,l.iD)("img",fi)):((0,l.wg)(),(0,l.iD)("img",_i)),(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[2]||(e[2]=a=>r.openModal(1))},yi)]),(0,l._)("div",wi,[(0,l.Uk)(" Calidad del agua almacenada en el tanque (solidos suspendidos). "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>o.limpioTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.limpioTXT]])])])]),(0,l._)("div",Di,[(0,l._)("div",Ci,[(0,l._)("div",null,[t.ph>5&&t.ph<7?((0,l.wg)(),(0,l.iD)("img",ki)):((0,l.wg)(),(0,l.iD)("img",xi)),(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[4]||(e[4]=a=>r.openModal(2))},qi)]),(0,l._)("div",Ti,[(0,l.Uk)(" Calidad del agua almacenada en el tanque (nivel de PH). "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>o.phTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.phTXT]])])])]),(0,l._)("div",Ai,[(0,l._)("div",Ui,[(0,l._)("div",null,[Ei,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[6]||(e[6]=a=>r.openModal(3))},Li)]),(0,l._)("div",Ii,[(0,l.Uk)(" Litros de precipitación captados en la última lluvia. "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>o.mmTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.mmTXT]])])])]),(0,l._)("div",Si,[(0,l._)("div",Vi,[(0,l._)("div",null,[Ni,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[8]||(e[8]=a=>r.openModal(4))},Zi)]),(0,l._)("div",Pi,[(0,l.Uk)(" Estado de lluvia. "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>o.lluvia=a),type:"text",readonly:""},null,512),[[i.nr,o.lluvia]])])])]),(0,l._)("div",Xi,[(0,l._)("div",ji,[(0,l._)("div",null,[Wi,(0,l._)("button",{class:"button is-primary espacio-izq",onClick:e[10]||(e[10]=a=>r.openModal(5))},Gi)]),(0,l._)("div",Fi,[(0,l.Uk)(" Tiempo de la última carga de información. "),(0,l.wy)((0,l._)("input",{class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>o.ultima_fecha=a),type:"text",readonly:""},null,512),[[i.nr,o.ultima_fecha]])])])])])])}var $i={props:{altura:{type:Number,default:0},diametro:{type:Number,default:0},nivel:{type:Number,default:0},limpio:{type:Number,default:-1},mm:{type:Number,default:-1},pluviometro:{type:Number,default:0},ph:{type:Number,default:-1},captar:{type:Number,default:0},llueve:{type:String,default:"Desconocido"},fecha:{type:String,default:"Desconocido"},modificacion:Number},data(){return{nivelIMG:null,nivelTXT:null,limpioTXT:null,phTXT:null,mmTXT:null,lluvia:this.llueve,ultima_fecha:this.fecha}},name:"Sensores",watch:{modificacion(){this.nivelAgua(),this.textoCalidad(),this.textoPH(),this.valorMM(),this.lluvia=this.llueve,this.ultima_fecha=this.fecha}},methods:{openModal(a){this.$emit("close",a)},nivelAgua(){const a=this.altura-this.nivel,e=Math.ceil(this.diametro*this.diametro*3.14*a/1e3);this.nivelTXT=e+" litros",a>this.altura/4*3?this.nivelIMG=4:a>this.altura/2?this.nivelIMG=3:a>this.altura/4?this.nivelIMG=2:a>0?this.nivelIMG=1:0==a?this.nivelIMG=0:(this.nivelIMG=5,this.nivelTXT="Desconocido")},textoCalidad(){this.limpio>0&&this.limpio<200?this.limpioTXT="Limpio":200<=this.limpio&&this.limpio<=300?this.limpioTXT="Algo sucio":this.limpio>300?this.limpioTXT="Muy sucio":this.limpioTXT="PPM desconocido"},textoPH(){this.ph>0&&this.ph<5?this.phTXT="Demasiada ácida":this.ph>7?this.phTXT="Demasiada básica":-1==this.ph?this.phTXT="PH desconocido":this.phTXT="Agua base"},valorMM(){this.mm<0?this.mmTXT="Desconocido":this.mmTXT=this.mm*this.pluviometro*this.captar+" litros"}}};const Ri=(0,j.Z)($i,[["render",Hi]]);var Yi=Ri,Ji={components:{DialogComponent:Ht,Sensores:Yi},data(){return{user:null,id:null,error:null,captar:null,limpio:null,llueve:null,mm:null,nivel:null,ph:null,pluviometro:null,altura:null,diametro:null,ultimo_cambio:null,cambio:0,showModal:!1,opcion:null}},name:"SCALL",mounted(){this.identificarUsuario()},methods:{openModal(a){this.showModal=!0,this.opcion=a},closeModal(){this.showModal=!1},identificarUsuario(){const a=P.Z.auth().currentUser;a?(this.user="SCALL de "+a.displayName,this.id=a.uid,this.searchUser()):(this.openModal(10),this.error="No se pudo identificar el usuario")},searchUser(){const a=Ua.collection("Usuarios"),e=a.doc(this.id);e.get().then((a=>{a.exists?(this.captar=a.data().captar,this.limpio=a.data().limpio,this.llueve=a.data().llueve,this.mm=a.data().mm,this.nivel=a.data().nivel,this.ph=a.data().ph,this.pluviometro=a.data().pluviometro,this.altura=a.data().altura,this.diametro=2*a.data().diametro,this.ultimo_cambio=a.data().timestamp.toDate().toLocaleString(),this.cambio++):(this.openModal(10),this.error="El documento no existe")})).catch((a=>{this.openModal(10),this.error=a.message}))},actualizar(){const a=Ua.collection("Usuarios");a.doc(this.id).update({altura:this.altura,diametro:this.diametro/2,captar:this.captar,pluviometro:this.pluviometro}).then((()=>{this.error=null,this.openModal(11),this.cambio++})).catch((a=>{this.openModal(10),this.error=a.message}))}}};const Ki=(0,j.Z)(Ji,[["render",Pt]]);var Qi=Ki;const al={class:"container"},el={class:"home"},tl=(0,l._)("header",null,[(0,l._)("h1",null,"Exceso de agua")],-1),il=(0,l._)("h2",null,"Actividades registradas",-1),ll={class:"card"},sl={class:"list-group list-group-flush"},ol={key:0,class:"d-flex"},rl={class:"p-2"},nl=(0,l._)("br",null,null,-1),cl=(0,l._)("i",{class:"fa fa-arrow-right"},null,-1),dl={class:"ml-auto p-2"},ul=["onClick"],pl=(0,l._)("i",{class:"fa fa-edit"},null,-1),ml=[pl],hl=["onSubmit"],vl={class:"input-group"},gl=["disabled"],fl=(0,l._)("i",{class:"fa fa-save"},null,-1),_l=[fl],bl=["onClick"],yl=(0,l._)("i",{class:"fa fa-trash"},null,-1),wl=[yl],Dl=(0,l._)("hr",null,null,-1),Cl=(0,l._)("h3",null,"    ¡Agrega más actividades!",-1),kl=(0,l._)("span",null,"Estas tareas te serán recomendadas en tu aplicación móvil del SCALL según la cantidad de litros que llegaran a sobrepasar la capacidad de tu tanque previo al pronóstico de la próxima lluvia, con el objetivo de que puedas aprovechar la mayor cantidad de agua de lluvia posible.",-1),xl=(0,l._)("h2",null,"Añadir nueva actividad",-1),Ml={class:"card"},ql={class:"btn cincuenta"},Tl=["disabled"],Al=(0,l._)("i",{class:"fa fa-plus-square espacio-der","aria-hidden":"true"},null,-1),Ul=(0,l._)("h2",null,"Cargar datos al servidor",-1),El={class:"f"},zl=["disabled"],Ll=(0,l._)("i",{class:"fa fa-upload espacio-der"},null,-1),Il={key:0,class:"alert"},Sl=(0,l._)("hr",null,null,-1),Vl=(0,l._)("div",{class:"alert alert-primary alert-dismissible fade show"}," ¡Información registrada con éxito! ",-1),Nl=[Sl,Vl],Ol={key:1,class:"error"},Zl=(0,l._)("hr",null,null,-1),Pl={class:"notification is-danger"};function Xl(a,e,t,s,o,r){const n=(0,l.up)("dialog-component");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",al,[(0,l._)("div",el,[tl,(0,l._)("section",null,[il,(0,l._)("div",ll,[(0,l._)("ul",sl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.todos,(a=>((0,l.wg)(),(0,l.iD)("li",{key:a},[a.isEdited?((0,l.wg)(),(0,l.iD)("form",{key:1,class:"m-0",onSubmit:(0,i.iM)((e=>r.update(a)),["prevent"])},[(0,l._)("div",vl,[(0,l._)("h3",null,(0,c.zw)(a.title)+", te consume",1),(0,l.wy)((0,l._)("input",{type:"text",class:"form-control form-control-sm espacio-izq",placeholder:"Editar","onUpdate:modelValue":e[0]||(e[0]=a=>o.editTodo=a)},null,512),[[i.nr,o.editTodo]]),(0,l._)("button",{class:"btn-sm btn-outline-primary espacio-izq",type:"submit",disabled:!r.editTodoIsValid},_l,8,gl),(0,l._)("button",{class:"btn-sm btn-outline-danger espacio-izq",onClick:e=>r.remove(a)},wl,8,bl)])],40,hl)):((0,l.wg)(),(0,l.iD)("div",ol,[(0,l._)("div",rl,[(0,l._)("h3",null,(0,c.zw)(a.title),1),nl,cl,(0,l._)("span",null,(0,c.zw)(a.content)+" litros ",1)]),(0,l._)("div",dl,[(0,l.wy)((0,l._)("button",{class:"btn-sm button is-primary",onClick:e=>r.edit(a)},ml,8,ul),[[i.F8,!r.isBeingEdited]])])])),Dl])))),128)),Cl,kl])])]),(0,l._)("section",null,[xl,(0,l._)("div",Ml,[(0,l._)("form",{class:"f",onSubmit:e[3]||(e[3]=(0,i.iM)((a=>r.add(o.title,o.todo)),["prevent"]))},[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control espacio",placeholder:"Nombre de la actividad","onUpdate:modelValue":e[1]||(e[1]=a=>o.title=a)},null,512),[[i.nr,o.title]]),(0,l.wy)((0,l._)("input",{type:"text",class:"form-control espacio",placeholder:"Litros de agua que requiere","onUpdate:modelValue":e[2]||(e[2]=a=>o.todo=a)},null,512),[[i.nr,o.todo]]),(0,l._)("div",ql,[(0,l._)("button",{class:"btn button is-primary",type:"submit",disabled:!r.todoIsValid},[Al,(0,l.Uk)(" Añadir ")],8,Tl)])],32)])]),(0,l._)("section",null,[Ul,(0,l._)("form",El,[(0,l._)("button",{class:"btn btn-sm button is-primary",onClick:e[4]||(e[4]=(...a)=>r.actualizar&&r.actualizar(...a)),disabled:this.error},[Ll,(0,l.Uk)(" Subir ")],8,zl)])]),o.good?((0,l.wg)(),(0,l.iD)("div",Il,Nl)):(0,l.kq)("",!0),o.error?((0,l.wg)(),(0,l.iD)("div",Ol,[Zl,(0,l._)("div",Pl,(0,c.zw)(o.error),1)])):(0,l.kq)("",!0)])]),(0,l.Wm)(n,{show:o.showModal,opc:o.opcion,onClose:r.closeModal},null,8,["show","opc","onClose"])],64)}var jl={components:{DialogComponent:Ht},data(){return{id:null,error:null,good:null,fieldNames:[],todo:null,title:null,todos:[],editTodo:null,showModal:!1,opcion:null}},name:"Excedente",mounted(){this.identificarUsuario(),this.openModal(12)},methods:{openModal(a){this.showModal=!0,this.opcion=a},closeModal(){this.showModal=!1},identificarUsuario(){const a=P.Z.auth().currentUser;a?(this.id=a.uid,this.searchUser()):(this.openModal(10),this.error="No se pudo identificar el usuario")},searchUser(){Ua.collection("Excedente").doc(this.id).get().then((a=>{a.exists?(this.fieldNames=Object.keys(a.data()),this.fieldNames.forEach((a=>{this.getDocuments(a)}))):(this.openModal(10),this.error="El documento no existe")})).catch((a=>{this.error=a}))},async getDocuments(a){try{const e=Ua.collection("Excedente").doc(this.id),t=await e.get(),i=t.data()[a];this.add(a,i)}catch(e){this.openModal(10),this.error=e}},actualizar(){this.good=null,this.error=null;const a=Ua.collection("Excedente"),e={};this.todos.forEach((a=>{e[a.title]=a.content})),a.doc(this.id).set(e).then((()=>{this.good="Cambios guardados exitosamente"})).catch((a=>{this.openModal(10),this.error=a}))},add(a,e){this.todos.push({title:a,content:e,isEdited:!1}),this.todo=null,this.title=null},remove(a){this.todos=this.todos.filter((e=>e!=a))},edit(a){this.editTodo=a.content,a.isEdited=!0},update(a){this.editTodoIsValid&&(a.content=this.editTodo,a.isEdited=!1)}},computed:{todoIsValid(){return!!this.todo},editTodoIsValid(){return!!this.editTodo},isBeingEdited(){return this.todos.filter((a=>a.isEdited)).length>0}}};const Wl=(0,j.Z)(jl,[["render",Xl]]);var Bl=Wl;const Gl=[{path:"/",name:"home",component:da},{path:"/login",name:"login",component:La},{path:"/register",name:"register",component:se},{path:"/dashboard",name:"dashboard",component:ye,meta:{requireAuth:!0}},{path:"/update",name:"update",component:Ye,meta:{requireAuth:!0}},{path:"/SCALL",name:"SCALL",component:Qi,meta:{requireAuth:!0}},{path:"/Excedente",name:"Excedente",component:Bl,meta:{requireAuth:!0}}],Fl=(0,aa.p7)({history:(0,aa.r5)(),routes:Gl});Fl.beforeEach(((a,e,t)=>{if(a.matched.some((a=>a.meta.requireAuth))){const a=P.Z.auth().currentUser;a?t():t({name:"login"})}else t()}));var Hl=Fl;let $l=null;P.Z.auth().onAuthStateChanged((()=>{$l||($l=(0,i.ri)(Q).use(Hl).mount("#app"))}))}},e={};function t(i){var l=e[i];if(void 0!==l)return l.exports;var s=e[i]={exports:{}};return a[i].call(s.exports,s,s.exports,t),s.exports}t.m=a,function(){var a=[];t.O=function(e,i,l,s){if(!i){var o=1/0;for(d=0;d<a.length;d++){i=a[d][0],l=a[d][1],s=a[d][2];for(var r=!0,n=0;n<i.length;n++)(!1&s||o>=s)&&Object.keys(t.O).every((function(a){return t.O[a](i[n])}))?i.splice(n--,1):(r=!1,s<o&&(o=s));if(r){a.splice(d--,1);var c=l();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=a.length;d>0&&a[d-1][2]>s;d--)a[d]=a[d-1];a[d]=[i,l,s]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var i in e)t.o(e,i)&&!t.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var a={143:0};t.O.j=function(e){return 0===a[e]};var e=function(e,i){var l,s,o=i[0],r=i[1],n=i[2],c=0;if(o.some((function(e){return 0!==a[e]}))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(n)var d=n(t)}for(e&&e(i);c<o.length;c++)s=o[c],t.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return t.O(d)},i=self["webpackChunkscall"]=self["webpackChunkscall"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(1314)}));i=t.O(i)})();
//# sourceMappingURL=app.d4f28137.js.map