(function(){"use strict";var a={2450:function(a,e,t){var i=t(9242),s=t(3396);const l={id:"app"},o={id:"nav"},n=(0,s._)("div",{style:{padding:"35px"}},null,-1);function r(a,e,t,i,r,c){const d=(0,s.up)("Navigation"),u=(0,s.up)("router-view"),p=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",o,[(0,s.Wm)(d)]),(0,s.Wm)(u),n,(0,s.Wm)(p)])}var c=t(7139),d=t.p+"img/ScallCucei.8803c57b.png",u=t.p+"img/udg.6edc0780.jpg";const p={class:"navbar",role:"navigation","aria-label":"main navigation"},m={class:"navbar-brand"},h=(0,s._)("img",{src:d,class:"logo"},null,-1),v=(0,s._)("span",{"aria-hidden":"true"},null,-1),g=(0,s._)("span",{"aria-hidden":"true"},null,-1),f=(0,s._)("span",{"aria-hidden":"true"},null,-1),_=[v,g,f],b={class:"navbar-end"},w={class:"navbar-item"},y={key:0,class:"navbar-item has-dropdown is-hoverable"},D={class:"navbar-link"},C={class:"navbar-dropdown"},q=(0,s._)("i",{class:"fa fa-tint"},null,-1),k=(0,s._)("span",{class:"espacio-izq"},"Precipitación anual",-1),x=(0,s._)("a",{class:"navbar-item",href:"https://pronostico.vercel.app/"},[(0,s._)("i",{class:"fa fa-cloud"}),(0,s._)("span",{class:"espacio-izq"},"Pronóstico del clima")],-1),A=(0,s._)("i",{class:"fa fa-cog"},null,-1),L=(0,s._)("span",{class:"espacio-izq"},"Configurar el SCALL",-1),E=(0,s._)("i",{class:"fa fa-exclamation"},null,-1),M=(0,s._)("span",{class:"espacio-izq"},"Excendete de agua",-1),T=(0,s._)("i",{class:"fa fa-user-circle"},null,-1),U=(0,s._)("span",{class:"espacio-izq"},"Actualizar perfil",-1),I=(0,s._)("i",{class:"fa fa-window-close"},null,-1),z=(0,s._)("span",{class:"espacio-izq underline-on-hover"},"Cerrar sesión",-1),S=[I,z],V={key:1,class:"buttons"},O=(0,s._)("strong",null,"Registrarme",-1),Z=(0,s._)("img",{src:u,class:"logo"},null,-1);function N(a,e,t,l,o,n){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",p,[(0,s._)("div",m,[(0,s.Wm)(r,{to:"/"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s._)("a",{role:"button",class:(0,c.C_)(["navbar-burger",{"is-active":o.isOpen}]),onClick:e[0]||(e[0]=(0,i.iM)(((...a)=>n.toggleMenu&&n.toggleMenu(...a)),["prevent"])),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},_,2)]),(0,s._)("div",{id:"navbarBasicExample",class:(0,c.C_)(["navbar-menu",{"is-active":o.isOpen}])},[(0,s._)("div",b,[(0,s._)("div",w,[o.user?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("a",D,(0,c.zw)(o.user.displayName||o.user.email),1),(0,s._)("div",C,[(0,s.Wm)(r,{class:"navbar-item",to:"/dashboard"},{default:(0,s.w5)((()=>[q,k])),_:1}),x,(0,s.Wm)(r,{class:"navbar-item",to:"/SCALL"},{default:(0,s.w5)((()=>[A,L])),_:1}),(0,s.Wm)(r,{class:"navbar-item",to:"/Excedente"},{default:(0,s.w5)((()=>[E,M])),_:1}),(0,s.Wm)(r,{class:"navbar-item",to:"/update"},{default:(0,s.w5)((()=>[T,U])),_:1}),(0,s._)("a",{class:"navbar-item",onClick:e[1]||(e[1]=(0,i.iM)(((...a)=>n.logout&&n.logout(...a)),["prevent"]))},S)])])):((0,s.wg)(),(0,s.iD)("div",V,[(0,s.Wm)(r,{class:"button is-primary",to:"/register"},{default:(0,s.w5)((()=>[O])),_:1}),(0,s.Wm)(r,{class:"button is-light",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Iniciar sesión ")])),_:1})]))])])],2),Z])}t(7658);var P=t(1509),j=(t(5363),t(8981),{data(){return{isOpen:!1,user:null}},methods:{toggleMenu(){const a=!this.isOpen;this.isOpen=a},logout(){P.Z.auth().signOut().then((()=>{this.$router.push({name:"login"})}))}},created(){P.Z.auth().onAuthStateChanged((a=>{this.user=a||null}))}}),W=t(89);const B=(0,W.Z)(j,[["render",N]]);var X=B;const G=(0,s._)("p",null,"SCALL - Todos los derechos reservados © 2023",-1),F=[G];function H(a,e,t,i,l,o){return(0,s.wg)(),(0,s.iD)("footer",null,F)}var R={};const Y=(0,W.Z)(R,[["render",H]]);var $=Y,J={components:{Navigation:X,Footer:$}};const K=(0,W.Z)(J,[["render",r]]);var Q=K,aa=t(2483),ea=t.p+"img/SCALL1.91ad0641.png",ta=t.p+"img/SCALL2.f29dc050.png",ia=t.p+"img/mx.c4555492.png";const sa={class:"container"},la=(0,s.uE)('<div class="home"><header><h1>SISTEMA DE CAPTACIÓN DE AGUA DE LLUVIA</h1></header><section><h2>¿Qué es un SCALL?</h2><p> Un <b>Sistema de Captación de Agua de Lluvia</b> (SCALL) consiste en un arreglo que permite interceptar, recolectar y almacenar agua de lluvia. Un SCALL típico implementado a nivel domiciliar consta de las siguientes secciones: recolección o captación, conducción, separador para las primeras lluvias, almacenamiento y tratamiento. </p><img src="'+ea+'" alt="SCALL" width="600px"></section><section><h2>¿Por qué captar agua de lluvia?</h2><p> Factores como el impacto del cambio climático sobre el ciclo hidrológico, el crecimiento poblacional y el estrés hídrico (cuando la demanda de agua es mayor a la cantidad de recursos hídricos disponibles) han evidenciado la necesidad de contar con diversas alternativas para asegurar el acceso al agua para toda la población. Un elemento indispensable para enfrentar los retos en torno al agua es el uso sostenible de los recursos hídricos, lo cual incluye el manejo integral del agua de lluvia. </p><img src="'+ta+'" alt="Pasos"></section><section><h2>Aspectos importantes a considerar</h2><p>Los aspectos más relevantes para habilitar un SCALL son:</p><ul><li><i class="fa fa-arrow-right"></i>   <b>Precipitación pluvial promedio anual del lugar:</b> Valor obtenido mediante el promedio de lluvias registradas en un año. <i><b>Un milímetro de lluvia equivale a un litro/m²</b>. Este dato es el que proporcionamos en esta página específicamente de la región Mexicana.</i></li><li><img src="'+ia+'" alt="Bandera de México" width="200px"></li><li><i class="fa fa-arrow-right"></i>   <b>Intensidad de la precipitación:</b> Es igual a la precipitación sobre tiempo, suele expresarse en mm/hr. Distribución temporal de la precipitación: Las localidades con precipitación pluvial distribuida en un mayor número de meses del año, favorece a los SCALL, por ejemplo, en las zonas subhúmedas y húmedas. </li><li><i class="fa fa-arrow-right"></i>   <b>Superficies de techumbres o áreas de captación de agua de lluvia:</b> Entre más grandes sea la superficie, mayor cantidad de agua podrá ser captada. </li><li><i class="fa fa-arrow-right"></i>   <b>Material del área de captación:</b> El coeficiente de escurrimiento es la relación entre el volumen escurrido y el llovido. Existen coeficientes de escurrimiento para diversos tipos de techos o áreas de captación. </li><li><i class="fa fa-arrow-right"></i>   <b>Distancia entre el área de captación y lugar de almacenamiento:</b> La zona de almacenamiento debe estar, preferentemente, en un punto más bajo para que el transporte del agua sea por gravedad. El costo es mayor a medida que aumente la distancia al lugar de almacenamiento. </li><li><i class="fa fa-arrow-right"></i>   <b>Tipo de material donde se ubicará el almacenamiento:</b> Repercute directamente en el costo de la excavación y construcción del almacenamiento. </li></ul></section><section><h2>Aplicación móvil</h2><p> Descarga nuestra aplicación móvil, para que puedas monitorear de forma precisa el pronóstico del clima en donde quiera que te encuentres, y puedas gestionar de mejor manera tu SCALL. </p><form class="f"><a href="https://play.google.com/store/apps/details?id=com.szaldivar.axel.scall" target="_blank" class="btn button is-primary"><strong><i class="fa fa-mobile espacio-der"></i> App </strong></a></form></section></div>',1),oa=[la];function na(a,e,t,i,l,o){return(0,s.wg)(),(0,s.iD)("div",sa,oa)}var ra={name:"HomeView"};const ca=(0,W.Z)(ra,[["render",na]]);var da=ca;const ua={class:"container"},pa={class:"columns"},ma={class:"column is-6 is-offset-3"},ha=(0,s._)("h3",{class:"title is-3"},"Iniciar sesión",-1),va=(0,s._)("hr",null,null,-1),ga={class:"field"},fa=(0,s._)("label",{class:"label"},"Email",-1),_a={class:"control"},ba={class:"field"},wa=(0,s._)("label",{class:"label"},"Contraseña",-1),ya={class:"control"},Da=(0,s._)("br",null,null,-1),Ca=(0,s._)("button",{type:"submit",class:"button is-primary"}," Iniciar sesión ",-1),qa={key:0,class:"error"},ka=(0,s._)("hr",null,null,-1),xa={class:"notification is-danger"};function Aa(a,e,t,l,o,n){return(0,s.wg)(),(0,s.iD)("div",ua,[(0,s._)("div",pa,[(0,s._)("div",ma,[ha,va,(0,s._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,i.iM)(((...a)=>n.login&&n.login(...a)),["prevent"]))},[(0,s._)("div",ga,[fa,(0,s._)("div",_a,[(0,s.wy)((0,s._)("input",{class:"input",type:"email",placeholder:"e.g. alexsmith@gmail.com","onUpdate:modelValue":e[0]||(e[0]=a=>o.email=a)},null,512),[[i.nr,o.email]])])]),(0,s._)("div",ba,[wa,(0,s._)("div",ya,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),Da,Ca],32),o.error?((0,s.wg)(),(0,s.iD)("div",qa,[ka,(0,s._)("div",xa,(0,c.zw)(o.error),1)])):(0,s.kq)("",!0)])])])}const La={apiKey:"AIzaSyC7ZVTYA9Z3WC8kmWHIkEkv48LuDXA4LFU",authDomain:"scall-a4924.firebaseapp.com",projectId:"scall-a4924",storageBucket:"scall-a4924.appspot.com",messagingSenderId:"639961564249",appId:"1:639961564249:web:a12be1ad34dbdf4ddd5d48",measurementId:"G-3K7HM2M3D0"},Ea=P.Z.initializeApp(La);Ea.firestore().settings({timestampsInSnapshots:!0});var Ma=Ea.firestore(),Ta={data(){return{email:"",password:"",error:""}},name:"Login",methods:{login(){this.error="",this.email&&this.password?P.Z.auth().signInWithEmailAndPassword(this.email,this.password).then((a=>{this.$router.push({name:"dashboard"})})).catch((a=>{this.error=a.message})):this.error="Todos los campos son requeridos"}}};const Ua=(0,W.Z)(Ta,[["render",Aa]]);var Ia=Ua;const za={class:"container"},Sa={class:"columns"},Va={class:"column is-6 is-offset-3"},Oa=(0,s._)("h3",{class:"title is-3"},"Crear una cuenta",-1),Za=(0,s._)("hr",null,null,-1),Na={class:"field"},Pa=(0,s._)("label",{class:"label"},"Nombre",-1),ja={class:"control"},Wa={class:"field"},Ba=(0,s._)("label",{class:"label"},"Email",-1),Xa={class:"control"},Ga={class:"field"},Fa=(0,s._)("label",{class:"label"},"Contraseña",-1),Ha={class:"control"},Ra=(0,s._)("br",null,null,-1),Ya=(0,s._)("button",{type:"submit",class:"button is-primary"}," Registrarme ",-1),$a={key:0,class:"error"},Ja=(0,s._)("hr",null,null,-1),Ka={class:"notification is-danger"};function Qa(a,e,t,l,o,n){return(0,s.wg)(),(0,s.iD)("div",za,[(0,s._)("div",Sa,[(0,s._)("div",Va,[Oa,Za,(0,s._)("form",{action:"#",onSubmit:e[3]||(e[3]=(0,i.iM)(((...a)=>n.register&&n.register(...a)),["prevent"]))},[(0,s._)("div",Na,[Pa,(0,s._)("div",ja,[(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a)},null,512),[[i.nr,o.name]])])]),(0,s._)("div",Wa,[Ba,(0,s._)("div",Xa,[(0,s.wy)((0,s._)("input",{class:"input",type:"email",placeholder:"e.g. alexsmith@gmail.com","onUpdate:modelValue":e[1]||(e[1]=a=>o.email=a)},null,512),[[i.nr,o.email]])])]),(0,s._)("div",Ga,[Fa,(0,s._)("div",Ha,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),Ra,Ya],32),o.error?((0,s.wg)(),(0,s.iD)("div",$a,[Ja,(0,s._)("div",Ka,(0,c.zw)(o.error),1)])):(0,s.kq)("",!0)])])])}var ae=t(1609);const ee=Ma.collection("Usuarios"),te=Ma.collection("Excedente");var ie={data(){return{name:"",email:"",password:"",error:""}},name:"Register",mounted(){P.Z.auth().signOut()},methods:{register(){this.error="",this.name&&this.email&&this.password?P.Z.auth().createUserWithEmailAndPassword(this.email,this.password).then((a=>{a&&(this.actualizarUsuario(),this.crearDocumentoUsuario(a.user.uid))})).catch((a=>{this.error=a.message})):this.error="Todos los campos son requeridos"},actualizarUsuario(){const a=(0,ae.v0)();(0,ae.ck)(a.currentUser,{displayName:this.name}).then((a=>{this.name="",this.email="",this.password=""})).catch((a=>{this.error=a.message}))},crearDocumentoUsuario(a){ee.doc(a).set({pluviometro:"0",captar:"0",tanque:"0",nivel:"-1",limpio:"-1",mm:"-1"}).then((()=>{this.crearDocumentoExcedente(a)})).catch((a=>{this.error=a.message+"Error al crear el documento."}))},crearDocumentoExcedente(a){te.doc(a).set({"Bañarse":"100"}).then((()=>{console.log("RegEx"),this.$router.push({name:"dashboard"})})).catch((a=>{this.error=a.message+"Error al crear el documento."}))}}};const se=(0,W.Z)(ie,[["render",Qa]]);var le=se;const oe={id:"app"},ne={class:"container"},re={class:"home"},ce=(0,s._)("header",null,[(0,s._)("h1",null,"Precipitación a nivel nacional")],-1),de=(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"p-2"},[(0,s._)("h3",null,"Datos extraídos de la Comisión Nacional del Agua 2022"),(0,s._)("i",{class:"fa fa-arrow-right"}),(0,s._)("span",null,[(0,s._)("a",{href:"https://smn.conagua.gob.mx/tools/DATA/Climatolog%C3%ADa/Pron%C3%B3stico%20clim%C3%A1tico/Temperatura%20y%20Lluvia/PREC/2022.pdf",target:"_blank"},"Visitar el sitio oficial")])])],-1);function ue(a,e,t,i,l,o){const n=(0,s.up)("BarChart");return(0,s.wg)(),(0,s.iD)("div",oe,[(0,s._)("div",ne,[(0,s._)("div",re,[ce,(0,s.Wm)(n),de])])])}function pe(a,e,t,i,l,o){const n=(0,s.up)("Bar");return(0,s.wg)(),(0,s.j4)(n,{id:"BarChart",options:a.chartOptions,data:l.chartData},null,8,["options","data"])}var me=t(5866),he=t(9646),ve=t(9232);he.kL.register(he.wL),he.kL.register(he.Dx,he.u,he.De,he.ZL,he.uw,he.f$);var ge={name:"BarChart",components:{Bar:me.$Q},data(){return{years:[],query:null,find:!0,count:0,chartData:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Mílimetros de precipitación",data:[],borderWidth:2,borderRadius:10}]}}},mounted(){this.cargarDatos()},methods:{async getData(){const a=await Ma.collection("Lluvia").get(),e=a.docs.map((a=>({value1:a.data().Enero,value2:a.data().Febrero,value3:a.data().Marzo,value4:a.data().Abril,value5:a.data().Mayo,value6:a.data().Junio,value7:a.data().Julio,value8:a.data().Agosto,value9:a.data().Septiembre,value10:a.data().Octubre,value11:a.data().Noviembre,value12:a.data().Diciembre})));return e},async getYears(){this.years=[],this.find=null,this.query=(0,ve.IO)((0,ve.hJ)(Ma,"Lluvia")),await(0,ve.PL)(this.query).then((a=>{a.size<1?this.find=!0:a.forEach((a=>{this.count=this.count+1,this.years.push(a.data())}))})).catch((()=>this.find=!0)),this.cargarDatos()},cargarDatos(){this.getData().then((a=>{this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value1))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value2))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value3))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value4))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value5))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value6))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value7))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value8))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value9))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value10))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value11))),this.chartData.datasets[0].data=this.chartData.datasets[0].data.concat(a.map((a=>a.value12)));const e=document.getElementById("BarChart"),t=he.kL.getChart(e),i=e.getContext("2d");let s;t&&t.destroy();new he.kL(i,{type:"bar",data:this.chartData,options:this.chartOptions,options:{animation:{onComplete:()=>{},delay:a=>{let e=0;return"data"!==a.type||"default"!==a.mode||s||(e=300*a.dataIndex+100*a.datasetIndex),e}},elements:{bar:{backgroundColor:this.colorize(),borderColor:"#000000"}},plugins:{legend:!1,title:{display:!0,text:"Milímetros de precipitación"}}}})}))},colorize(){return a=>{const e=a.parsed.y,t=e<20?"#D60000":e<80?"#F46300":e<140?"#FFFF00":"#44DE28";return t}}}};const fe=(0,W.Z)(ge,[["render",pe]]);var _e=fe,be={name:"Dashboard",components:{BarChart:_e}};const we=(0,W.Z)(be,[["render",ue]]);var ye=we;const De={class:"container"},Ce={class:"columns"},qe={class:"column is-6 is-offset-3"},ke=(0,s._)("h3",{class:"title is-3"},"Actualiza tu cuenta",-1),xe=(0,s._)("hr",null,null,-1),Ae={class:"field"},Le=(0,s._)("label",{class:"label"},"Nombre",-1),Ee={class:"control"},Me={class:"field"},Te=(0,s._)("label",{class:"label"},"Contraseña",-1),Ue={class:"control"},Ie=(0,s._)("br",null,null,-1),ze=(0,s._)("button",{type:"submit",class:"button is-primary"}," Actualizar ",-1),Se={key:0,class:"error"},Ve=(0,s._)("hr",null,null,-1),Oe={class:"notification is-danger"},Ze={key:1,class:"alert"},Ne=(0,s._)("hr",null,null,-1),Pe=(0,s._)("div",{class:"alert alert-primary alert-dismissible fade show"}," ¡Actualización registrada con éxito! ",-1),je=[Ne,Pe];function We(a,e,t,l,o,n){return(0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("div",Ce,[(0,s._)("div",qe,[ke,xe,(0,s._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,i.iM)(((...a)=>n.update&&n.update(...a)),["prevent"]))},[(0,s._)("div",Ae,[Le,(0,s._)("div",Ee,[(0,s.wy)((0,s._)("input",{class:"input",type:"text",placeholder:"e.g Alex Smith","onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a)},null,512),[[i.nr,o.name]])])]),(0,s._)("div",Me,[Te,(0,s._)("div",Ue,[(0,s.wy)((0,s._)("input",{class:"input",type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a)},null,512),[[i.nr,o.password]])])]),Ie,ze],32),o.error?((0,s.wg)(),(0,s.iD)("div",Se,[Ve,(0,s._)("div",Oe,(0,c.zw)(o.error),1)])):(0,s.kq)("",!0),o.good?((0,s.wg)(),(0,s.iD)("div",Ze,je)):(0,s.kq)("",!0)])])])}var Be={data(){return{name:"",password:"",error:"",good:""}},name:"Update",methods:{update(){if(this.error="",this.name&&this.password){const a=P.Z.auth().currentUser;a.updateProfile({displayName:this.name}).then((e=>{a.updatePassword(this.password).then((()=>{this.name="",this.password="",this.good="good",setTimeout((function(){ds.push({name:"dashboard"})}),2e3)})).catch((a=>{this.error=a.message}))})).catch((a=>{this.error=a.message}))}else this.error="Todos los campos son requeridos"}}};const Xe=(0,W.Z)(Be,[["render",We]]);var Ge=Xe,Fe=t.p+"img/VACIO.d7cb209b.png",He=t.p+"img/CASI_VACIO.58a0a7ab.png",Re=t.p+"img/MITAD.340c0a28.png",Ye=t.p+"img/CASI_LLENO.e1ae7f57.png",$e=t.p+"img/LLENO.daa6f712.png",Je=t.p+"img/VACIO_SUCIO.ac8c2839.png",Ke=t.p+"img/lluvia.764abe8a.jpg",Qe=t.p+"img/Capacidad.253410ae.png",at=t.p+"img/techo.5620c253.jpg",et=t.p+"img/pl.76895e9d.jpg";const tt={id:"app"},it={class:"container"},st={class:"home"},lt={class:"f",enctype:"multipart/form-data"},ot={class:"cardi"},nt={class:"horizontal"},rt={key:0,src:Fe,class:"search"},ct={key:1,src:He,class:"search"},dt={key:2,src:Re,class:"search"},ut={key:3,src:Ye,class:"search"},pt={key:4,src:$e,class:"search"},mt={key:5,src:Je,class:"search"},ht=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),vt=[ht],gt={class:"col-xs-6 mr-auto mt-auto mb-auto"},ft={class:"cardi"},_t={class:"horizontal"},bt={key:0,src:$e,class:"search"},wt={key:1,src:Je,class:"search"},yt=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),Dt=[yt],Ct={class:"col-xs-6 mr-auto mt-auto mb-auto"},qt={class:"cardi"},kt={class:"horizontal"},xt=(0,s._)("img",{src:Ke,class:"search"},null,-1),At=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),Lt=[At],Et={class:"col-xs-6 mr-auto mt-auto mb-auto"},Mt={class:"cardi"},Tt={class:"horizontal"},Ut=(0,s._)("img",{src:Qe,class:"search"},null,-1),It=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),zt=[It],St={class:"col-xs-6 mr-auto mt-auto mb-auto"},Vt=(0,s._)("b",null,"litros",-1),Ot={class:"cardi"},Zt={class:"horizontal"},Nt=(0,s._)("img",{src:at,class:"search"},null,-1),Pt=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),jt=[Pt],Wt={class:"col-xs-6 mr-auto mt-auto mb-auto"},Bt=(0,s._)("b",null,[(0,s.Uk)("m"),(0,s._)("sup",null,"2")],-1),Xt={class:"cardi"},Gt={class:"horizontal"},Ft=(0,s._)("img",{src:et,class:"search"},null,-1),Ht=(0,s._)("i",{class:"fa fa-info-circle"},null,-1),Rt=[Ht],Yt={class:"col-xs-6 mr-auto mt-auto mb-auto"},$t=(0,s._)("b",null,"milímetros",-1),Jt=["disabled"],Kt=(0,s._)("strong",null,[(0,s._)("i",{class:"fa fa-upload espacio-der"}),(0,s.Uk)(" Cargar datos al servidor ")],-1),Qt=[Kt],ai={key:0,class:"error"},ei=(0,s._)("hr",null,null,-1),ti={class:"notification is-danger"},ii={key:1,class:"alert"},si=(0,s._)("hr",null,null,-1),li=(0,s._)("div",{class:"alert alert-primary alert-dismissible fade show"}," ¡Información registrada con éxito! ",-1),oi=[si,li];function ni(a,e,t,l,o,n){const r=(0,s.up)("dialog-component");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",tt,[(0,s._)("div",it,[(0,s._)("div",st,[(0,s._)("header",null,[(0,s._)("h1",null,(0,c.zw)(this.user),1)]),(0,s._)("form",lt,[(0,s._)("div",ot,[(0,s._)("div",nt,[(0,s._)("div",null,[0==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",rt)):(0,s.kq)("",!0),1==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",ct)):(0,s.kq)("",!0),2==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",dt)):(0,s.kq)("",!0),3==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",ut)):(0,s.kq)("",!0),4==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",pt)):(0,s.kq)("",!0),5==o.nivelIMG?((0,s.wg)(),(0,s.iD)("img",mt)):(0,s.kq)("",!0),(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[0]||(e[0]=a=>n.openModal(5))},vt)]),(0,s._)("div",gt,[(0,s.Uk)(" Nivel actual del tanque. "),(0,s.wy)((0,s._)("input",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>o.nivelTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.nivelTXT]])])])]),(0,s._)("div",ft,[(0,s._)("div",_t,[(0,s._)("div",null,[1==o.limpio?((0,s.wg)(),(0,s.iD)("img",bt)):((0,s.wg)(),(0,s.iD)("img",wt)),(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[2]||(e[2]=a=>n.openModal(4))},Dt)]),(0,s._)("div",Ct,[(0,s.Uk)(" Calidad del agua almacenada en el tanque. "),(0,s.wy)((0,s._)("input",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>o.limpioTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.limpioTXT]])])])]),(0,s._)("div",qt,[(0,s._)("div",kt,[(0,s._)("div",null,[xt,(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[4]||(e[4]=a=>n.openModal(3))},Lt)]),(0,s._)("div",Et,[(0,s.Uk)(" Milímetros de precipitación captados en la última lluvia. "),(0,s.wy)((0,s._)("input",{class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>o.mmTXT=a),type:"text",readonly:""},null,512),[[i.nr,o.mmTXT]])])])]),(0,s._)("div",Mt,[(0,s._)("div",Tt,[(0,s._)("div",null,[Ut,(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[6]||(e[6]=a=>n.openModal(2))},zt)]),(0,s._)("div",St,[(0,s.Uk)(" Ingrese la capacidad de su tanque en "),Vt,(0,s.Uk)(". "),(0,s.wy)((0,s._)("input",{class:"form-control",placeholder:"Capacidad del tanque (lts)","onUpdate:modelValue":e[7]||(e[7]=a=>o.tanque=a),type:"text"},null,512),[[i.nr,o.tanque]])])])]),(0,s._)("div",Ot,[(0,s._)("div",Zt,[(0,s._)("div",null,[Nt,(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[8]||(e[8]=a=>n.openModal(1))},jt)]),(0,s._)("div",Wt,[(0,s.Uk)(" Ingrese la capacidad del techo que podrá captar agua en "),Bt,(0,s.Uk)(". "),(0,s.wy)((0,s._)("input",{class:"form-control",placeholder:"Capacidad del techo (m2)","onUpdate:modelValue":e[9]||(e[9]=a=>o.captar=a),type:"text"},null,512),[[i.nr,o.captar]])])])]),(0,s._)("div",Xt,[(0,s._)("div",Gt,[(0,s._)("div",null,[Ft,(0,s._)("button",{class:"button is-primary espacio-izq",onClick:e[10]||(e[10]=a=>n.openModal(0))},Rt)]),(0,s._)("div",Yt,[(0,s.Uk)(" Ingrese la capacidad del pluviómetro en "),$t,(0,s.Uk)(". "),(0,s.wy)((0,s._)("input",{class:"form-control",placeholder:"Capacidad del p. (mm)","onUpdate:modelValue":e[11]||(e[11]=a=>o.pluviometro=a),type:"text"},null,512),[[i.nr,o.pluviometro]])])])]),(0,s._)("button",{class:"btn button is-primary",type:"submit",onClick:e[12]||(e[12]=(...a)=>n.actualizar&&n.actualizar(...a)),disabled:!n.captarIsValid||!n.tanqueIsValid||!n.pluvIsValid},Qt,8,Jt)]),o.error?((0,s.wg)(),(0,s.iD)("div",ai,[ei,(0,s._)("div",ti,(0,c.zw)(o.error),1)])):(0,s.kq)("",!0),o.good?((0,s.wg)(),(0,s.iD)("div",ii,oi)):(0,s.kq)("",!0)])])]),(0,s.Wm)(r,{show:o.showModal,opc:o.opcion,onClose:n.closeModal},null,8,["show","opc","onClose"])],64)}const ri={key:0,class:"modal-overlay"},ci={key:0,class:"home mooodal"},di={class:"f"};function ui(a,e,t,l,o,n){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i.uT,{name:"fade"},{default:(0,s.w5)((()=>[t.show?((0,s.wg)(),(0,s.iD)("div",ri)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(i.uT,{name:"fade"},{default:(0,s.w5)((()=>[t.show?((0,s.wg)(),(0,s.iD)("div",ci,[(0,s._)("header",null,[(0,s._)("h1",null,(0,c.zw)(o.titles[t.opc]),1)]),(0,s._)("span",null,(0,c.zw)(o.descriptions[t.opc]),1),(0,s._)("form",di,[(0,s._)("button",{class:"btn button is-primary",onClick:e[0]||(e[0]=(...a)=>n.closeModal&&n.closeModal(...a))},"Aceptar")])])):(0,s.kq)("",!0)])),_:1})],64)}var pi={props:{show:Boolean,opc:Number},data(){return{titles:["Pluviómetro","Captación","Tanque","Milímetros captados","Calidad del agua","Nivel del tanque","¡Importante!"],descriptions:["El pluviómetro, es el recipiente que se encuentra en la parte superior del SCALL, y es el encargado de cuantificar los milímetros de precipitación que caen en una lluvia. En este apartado debes ingresar su capacidad para poder calcular los milímetros de precipitación de la última lluvia","Ingresa en este apartado, en metros cuadrados, el total de la capacidad del techo que dispones que puede captar agua. Con este dato y con los milímetros de precipitación estimados en el pronóstico del clima, se podrá obtener el cálculo del agua que podrá ser captada, el cual, podrás visualizar en tu aplicación móvil","Ingresa en este apartado, en litros, la capacidad total del agua que puedes almacenar. Si la capacidad de almacenamiento se viera rebasada en base al pronóstico de lluvia, tu aplicación móvil te alertará de esta situación y te desplegará una serie de actividades recomendadas que podrás hacer con el agua excedente, las cuales debiste configurar previamente en el apartado 'Excedente de agua' de esta página.","En este apartado se muestran los milímetros reales de agua que pudiste captar en la última lluvia. Este dato se recopila directamente del pluviómetro de tu SCALL.","En este apartado se muentra la calidad del agua en dos estados 'limpia' o 'sucia'. El estado de la calidad del agua se obtiene, en base a la información proporcionada por el conjunto de sensores instalados en el tanque de tu SCALL.","En este apartado se muestra el nivel del tanque, es decir, los litros que se encuentran almacenados actualmente en tu tanque. Este dato se recopila direcatmente del sensor instalado en el tanque de tu SCALL.","No olvides cargar los datos al servidor cuando termines de organizar las tareas que puedes hacer con el agua excedente. Esto se hace con el botón que se encuentra el fondo de la página."]}},methods:{closeModal(){this.$emit("close")}}};const mi=(0,W.Z)(pi,[["render",ui]]);var hi=mi,vi={components:{DialogComponent:hi},data(){return{user:null,id:null,error:null,good:null,captar:null,limpio:null,limpioTXT:null,mm:null,mmTXT:null,nivel:null,nivelIMG:null,nivelTXT:null,pluviometro:null,tanque:null,showModal:!1,opcion:null}},name:"SCALL",mounted(){this.identificarUsuario()},methods:{openPopup(){this.showPopup=!0},closePopup(){this.showPopup=!1},openModal(a){this.showModal=!0,this.opcion=a},closeModal(){this.showModal=!1},identificarUsuario(){const a=P.Z.auth().currentUser;a?(this.user="SCALL de "+a.displayName,this.id=a.uid,this.searchUser()):this.error="No se pudo identificar el usuario"},searchUser(){const a=Ma.collection("Usuarios"),e=a.doc(this.id);e.get().then((a=>{a.exists?(this.captar=a.data().captar,this.limpio=a.data().limpio,this.mm=a.data().mm,this.nivel=a.data().nivel,this.pluviometro=a.data().pluviometro,this.tanque=a.data().tanque,this.textoCalidad(),this.nivelAgua(),this.mmDesconocido()):this.error="El documento no existe"})).catch((a=>{this.error=a.message}))},actualizar(){this.nivelAgua(),this.mmDesconocido();const a=Ma.collection("Usuarios");a.doc(this.id).set({captar:this.captar,tanque:this.tanque,pluviometro:this.pluviometro,mm:this.mm,nivel:this.nivel,limpio:this.limpio}).then((()=>{this.good="good",this.nivelAgua(!1),this.mmDesconocido(!1)})).catch((a=>{this.error=a.message}))},textoCalidad(){1==this.limpio?this.limpioTXT="Limpio":2==this.limpio?this.limpioTXT="Sucio":this.limpioTXT="Desconocido"},nivelAgua(){this.nivelTXT=this.nivel+" litros",this.nivel>this.tanque/4*3?this.nivelIMG=4:this.nivel>this.tanque/2?this.nivelIMG=3:this.nivel>this.tanque/4?this.nivelIMG=2:this.nivel>0?this.nivelIMG=1:0==this.nivel?this.nivelIMG=0:(this.nivelIMG=5,this.nivelTXT="Desconocido")},mmDesconocido(){this.mm<0?this.mmTXT="Desconocido":this.mmTXT=this.mm+" milímetros"}},computed:{captarIsValid(){return!!this.captar},tanqueIsValid(){return!!this.tanque},pluvIsValid(){return!!this.pluviometro}}};const gi=(0,W.Z)(vi,[["render",ni]]);var fi=gi;const _i={class:"container"},bi={class:"home"},wi=(0,s._)("header",null,[(0,s._)("h1",null,"Exceso de agua")],-1),yi=(0,s._)("h2",null,"Actividades registradas",-1),Di={class:"card"},Ci={class:"list-group list-group-flush"},qi={key:0,class:"d-flex"},ki={class:"p-2"},xi=(0,s._)("br",null,null,-1),Ai=(0,s._)("i",{class:"fa fa-arrow-right"},null,-1),Li={class:"ml-auto p-2"},Ei=["onClick"],Mi=(0,s._)("i",{class:"fa fa-edit"},null,-1),Ti=[Mi],Ui=["onSubmit"],Ii={class:"input-group"},zi=["disabled"],Si=(0,s._)("i",{class:"fa fa-save"},null,-1),Vi=[Si],Oi=["onClick"],Zi=(0,s._)("i",{class:"fa fa-trash"},null,-1),Ni=[Zi],Pi=(0,s._)("hr",null,null,-1),ji=(0,s._)("h3",null,"    ¡Agrega más tareas!",-1),Wi=(0,s._)("span",null,"Estas tareas aparecerán como recomendaciones de actividades en tu aplicación móvil del SCALL en base a la cantidad de litros que llegaran a sobrepasar la capacidad de tu tanque, con el objetivo de que puedas aprovechar la mayor cantidad de agua de lluvia posible.",-1),Bi=(0,s._)("h2",null,"Añadir nueva actividad",-1),Xi={class:"card"},Gi={class:"btn cincuenta"},Fi=["disabled"],Hi=(0,s._)("i",{class:"fa fa-plus-square espacio-der","aria-hidden":"true"},null,-1),Ri=(0,s._)("h2",null,"Cargar datos al servidor",-1),Yi={class:"f"},$i=(0,s._)("i",{class:"fa fa-upload espacio-der"},null,-1),Ji={key:0,class:"alert"},Ki=(0,s._)("hr",null,null,-1),Qi=(0,s._)("div",{class:"alert alert-primary alert-dismissible fade show"}," ¡Información registrada con éxito! ",-1),as=[Ki,Qi],es={key:1,class:"error"},ts=(0,s._)("hr",null,null,-1),is={class:"notification is-danger"};function ss(a,e,t,l,o,n){const r=(0,s.up)("dialog-component");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",_i,[(0,s._)("div",bi,[wi,(0,s._)("section",null,[yi,(0,s._)("div",Di,[(0,s._)("ul",Ci,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.todos,(a=>((0,s.wg)(),(0,s.iD)("li",{key:a},[a.isEdited?((0,s.wg)(),(0,s.iD)("form",{key:1,class:"m-0",onSubmit:(0,i.iM)((e=>n.update(a)),["prevent"])},[(0,s._)("div",Ii,[(0,s._)("h3",null,(0,c.zw)(a.title)+", te consume",1),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-sm espacio-izq",placeholder:"Editar","onUpdate:modelValue":e[0]||(e[0]=a=>o.editTodo=a)},null,512),[[i.nr,o.editTodo]]),(0,s._)("button",{class:"btn-sm btn-outline-primary espacio-izq",type:"submit",disabled:!n.editTodoIsValid},Vi,8,zi),(0,s._)("button",{class:"btn-sm btn-outline-danger espacio-izq",onClick:e=>n.remove(a)},Ni,8,Oi)])],40,Ui)):((0,s.wg)(),(0,s.iD)("div",qi,[(0,s._)("div",ki,[(0,s._)("h3",null,(0,c.zw)(a.title),1),xi,Ai,(0,s._)("span",null,(0,c.zw)(a.content)+" litros ",1)]),(0,s._)("div",Li,[(0,s.wy)((0,s._)("button",{class:"btn-sm button is-primary",onClick:e=>n.edit(a)},Ti,8,Ei),[[i.F8,!n.isBeingEdited]])])])),Pi])))),128)),ji,Wi])])]),(0,s._)("section",null,[Bi,(0,s._)("div",Xi,[(0,s._)("form",{class:"f",onSubmit:e[3]||(e[3]=(0,i.iM)((a=>n.add(o.title,o.todo)),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control espacio",placeholder:"Nombre de la actividad","onUpdate:modelValue":e[1]||(e[1]=a=>o.title=a)},null,512),[[i.nr,o.title]]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control espacio",placeholder:"Litros de agua que requiere","onUpdate:modelValue":e[2]||(e[2]=a=>o.todo=a)},null,512),[[i.nr,o.todo]]),(0,s._)("div",Gi,[(0,s._)("button",{class:"btn button is-primary",type:"submit",disabled:!n.todoIsValid},[Hi,(0,s.Uk)(" Añadir ")],8,Fi)])],32)])]),(0,s._)("section",null,[Ri,(0,s._)("form",Yi,[(0,s._)("button",{class:"btn btn-sm button is-primary",onClick:e[4]||(e[4]=(...a)=>n.actualizar&&n.actualizar(...a))},[$i,(0,s.Uk)(" Subir ")])])]),o.good?((0,s.wg)(),(0,s.iD)("div",Ji,as)):(0,s.kq)("",!0),o.error?((0,s.wg)(),(0,s.iD)("div",es,[ts,(0,s._)("div",is,(0,c.zw)(o.error),1)])):(0,s.kq)("",!0)])]),(0,s.Wm)(r,{show:o.showModal,opc:o.opcion,onClose:n.closeModal},null,8,["show","opc","onClose"])],64)}var ls={components:{DialogComponent:hi},data(){return{id:null,error:null,good:null,fieldNames:[],todo:null,title:null,todos:[],editTodo:null,showModal:!1,opcion:null}},name:"Excedente",mounted(){this.identificarUsuario(),this.openModal()},methods:{openModal(){this.showModal=!0,this.opcion=6},closeModal(){this.showModal=!1},identificarUsuario(){const a=P.Z.auth().currentUser;a?(this.id=a.uid,this.searchUser()):this.error="No se pudo identificar el usuario"},searchUser(){Ma.collection("Excedente").doc(this.id).get().then((a=>{a.exists?(this.fieldNames=Object.keys(a.data()),this.fieldNames.forEach((a=>{this.getDocuments(a)}))):this.error="El documento no existe"})).catch((a=>{this.error=a}))},async getDocuments(a){try{const e=Ma.collection("Excedente").doc(this.id),t=await e.get(),i=t.data()[a];this.add(a,i)}catch(e){this.error=e}},actualizar(){this.good=null,this.error=null;const a=Ma.collection("Excedente"),e={};this.todos.forEach((a=>{e[a.title]=a.content})),a.doc(this.id).set(e).then((()=>{this.good="Cambios guardados exitosamente"})).catch((a=>{this.error=a}))},add(a,e){this.todos.push({title:a,content:e,isEdited:!1}),this.todo=null,this.title=null},remove(a){this.todos=this.todos.filter((e=>e!=a))},edit(a){this.editTodo=a.content,a.isEdited=!0},update(a){this.editTodoIsValid&&(a.content=this.editTodo,a.isEdited=!1)}},computed:{todoIsValid(){return!!this.todo},editTodoIsValid(){return!!this.editTodo},isBeingEdited(){return this.todos.filter((a=>a.isEdited)).length>0}}};const os=(0,W.Z)(ls,[["render",ss]]);var ns=os;const rs=[{path:"/",name:"home",component:da},{path:"/login",name:"login",component:Ia},{path:"/register",name:"register",component:le},{path:"/dashboard",name:"dashboard",component:ye,meta:{requireAuth:!0}},{path:"/update",name:"update",component:Ge,meta:{requireAuth:!0}},{path:"/SCALL",name:"SCALL",component:fi,meta:{requireAuth:!0}},{path:"/Excedente",name:"Excedente",component:ns,meta:{requireAuth:!0}}],cs=(0,aa.p7)({history:(0,aa.r5)(),routes:rs});cs.beforeEach(((a,e,t)=>{if(a.matched.some((a=>a.meta.requireAuth))){const a=P.Z.auth().currentUser;a?t():t({name:"login"})}else t()}));var ds=cs;let us=null;P.Z.auth().onAuthStateChanged((()=>{us||(us=(0,i.ri)(Q).use(ds).mount("#app"))}))}},e={};function t(i){var s=e[i];if(void 0!==s)return s.exports;var l=e[i]={exports:{}};return a[i].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,i,s,l){if(!i){var o=1/0;for(d=0;d<a.length;d++){i=a[d][0],s=a[d][1],l=a[d][2];for(var n=!0,r=0;r<i.length;r++)(!1&l||o>=l)&&Object.keys(t.O).every((function(a){return t.O[a](i[r])}))?i.splice(r--,1):(n=!1,l<o&&(o=l));if(n){a.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[i,s,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var i in e)t.o(e,i)&&!t.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var a={143:0};t.O.j=function(e){return 0===a[e]};var e=function(e,i){var s,l,o=i[0],n=i[1],r=i[2],c=0;if(o.some((function(e){return 0!==a[e]}))){for(s in n)t.o(n,s)&&(t.m[s]=n[s]);if(r)var d=r(t)}for(e&&e(i);c<o.length;c++)l=o[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(d)},i=self["webpackChunkscall"]=self["webpackChunkscall"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(2450)}));i=t.O(i)})();
//# sourceMappingURL=app.206055ff.js.map